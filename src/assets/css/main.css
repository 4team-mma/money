/* src/assets/css/main.css */

/* =========================================
    1. 定義預設變數 (Light Mode - MMA 經典)
   ========================================= */
:root {
    /* --- 背景類 --- */
    --bg-body: #f8f9fa;       /* 頁面大背景 (淺灰) */
    --bg-card: #ffffff;       /* 卡片、側邊欄背景 (白) */
    --bg-sidebar: #ffffff;    /* 側邊欄背景 */
    --bg-hover: rgba(0,0,0,0.05); /* 滑鼠移過去的底色 */
    --bg-input: #ffffff;      /* 輸入框背景 */

    /* --- 文字色 --- */
    --text-primary: #1e293b;  /* 主要深色文字 */
    --text-secondary: #7e8690;/* 次要灰色文字 */
    --text-inverse: #ffffff;  /* 反白文字 */

    /* --- 品牌與功能色 --- */
    --color-primary: #3b82f6; /* 品牌藍 */
    --color-success: #10b981; /* 成功綠 */
    --color-danger: #ef4444;  /* 危險紅 */

    /* --- 邊框與陰影 --- */
    --border-color: #e2e8f0;
    --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* =========================================
    2. 深色主題 (Dark Mode - 極客深邃)
   ========================================= */
[data-theme="dark"] {
    --bg-body: #0f172a;       /* 極深藍/黑 */
    --bg-card: #1e293b;       /* 深灰藍 */
    --bg-sidebar: #1e293b;
    --bg-hover: rgba(255,255,255,0.1);
    --bg-input: #334155;

    --text-primary: #f1f5f9;  /* 亮白 */
    --text-secondary: #94a3b8;/* 淺灰 */
    --text-inverse: #ffffff;

    --color-primary: #40638d; /* 淺藍 */
    --color-success: #34d399; /* 淺綠 */
    --color-danger: #f87171;  /* 淺紅 */

    --border-color: #334155;
    --shadow-card: none;
}

/* =========================================
    3. 森林主題 (Forest - 森林晨曦) [整合隊友]
   ========================================= */
[data-theme="forest"] {
    --bg-body: #f0fdf4;       /* 極淺綠背景 */
    --bg-card: #ffffff;
    --bg-sidebar: #ffffff;
    --bg-hover: #dcfce7;      /* 淺綠 Hover */
    --bg-input: #ffffff;

    --text-primary: #064e3b;  /* 深綠文字 */
    --text-secondary: #047857;/* 次要綠文字 */
    --text-inverse: #ffffff;

    --color-primary: #10b981; /* 品牌綠 */
    --color-success: #059669; 
    --color-danger: #ef4444;

    --border-color: #d1fae5;  /* 淺綠邊框 */
    --shadow-card: 0 4px 6px -1px rgba(16, 185, 129, 0.1);
}

/* =========================================
    4. 夕陽主題 (Sunset - 微醺夕陽) [整合隊友]
   ========================================= */
[data-theme="sunset"] {
    --bg-body: #fffbeb;       /* 淺黃背景 */
    --bg-card: #ffffff;
    --bg-sidebar: #ffffff;
    --bg-hover: #fef3c7;      /* 淺橘 Hover */
    --bg-input: #ffffff;

    --text-primary: #78350f;  /* 深褐文字 */
    --text-secondary: #92400e;/* 次要褐文字 */
    --text-inverse: #ffffff;

    --color-primary: #f59e0b; /* 品牌橘 */
    --color-success: #10b981;
    --color-danger: #ef4444;

    --border-color: #fde68a;  /* 淺黃邊框 */
    --shadow-card: 0 4px 6px -1px rgba(245, 158, 11, 0.1);
}

/* =========================================
    5. 通用基礎樣式
   ========================================= */
body {
    background-color: var(--bg-body);
    color: var(--text-primary);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    margin: 0; 
    padding: 0;
    transition: background-color 0.3s ease, color 0.3s ease; /* 讓主題切換更滑順 */
}

a {
    text-decoration: none;
    color: inherit;
}

/* 確保所有標題置中 (您原本的設定) */
h1 {
    text-align: center;
}

/* 6. 午夜霓虹 (Cyberpunk) - 強烈對比、科技感 */
[data-theme="cyber"] {
    --bg-body: #0a0a12;       /* 極深紫黑 */
    --bg-card: #161625;       /* 深紫色 */
    --bg-sidebar: #161625;
    --bg-hover: rgba(255, 0, 255, 0.1);
    --bg-input: #1f1f35;

    --text-primary: #e0e0ff;  /* 亮藍白 */
    --text-secondary: #9d9dbf;
    --text-inverse: #ffffff;

    --color-primary: #ff00ff; /* 霓虹粉 */
    --color-success: #00ffcc; /* 電子青 */
    --color-danger: #ff3e3e;

    --border-color: #2d2d4a;
    --shadow-card: 0 0 15px rgba(255, 0, 255, 0.1);
}

/* 7.北歐極簡 (Nordic) - 涼爽、安靜、高端 */
[data-theme="nordic"] {
    --bg-body: #eceff4;       /* 冷灰白 */
    --bg-card: #ffffff;
    --bg-sidebar: #d8dee9;    /* 淺藍灰側邊欄 */
    --bg-hover: #e5e9f0;
    --bg-input: #ffffff;

    --text-primary: #2e3440;  /* 深炭灰 */
    --text-secondary: #4c566a;
    --text-inverse: #ffffff;

    --color-primary: #5e81ac; /* 北歐藍 */
    --color-success: #a3be8c; /* 莫蘭迪綠 */
    --color-danger: #bf616a;

    --border-color: #d8dee9;
    --shadow-card: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
}

/* 8.薰衣草莊園 (Lavender) - 溫柔、優雅、女性化 */
[data-theme="lavender"] {
    --bg-body: #f3f0ff;       /* 極淺紫 */
    --bg-card: #ffffff;
    --bg-sidebar: #ffffff;
    --bg-hover: #f8f7ff;
    --bg-input: #ffffff;

    --text-primary: #4b4453;  /* 深紫灰 */
    --text-secondary: #845ec2;/* 薰衣草紫 */
    --text-inverse: #ffffff;

    --color-primary: #b39cd0; /* 柔和紫 */
    --color-success: #00c9a7;
    --color-danger: #ff8066;

    --border-color: #e0d4f7;
    --shadow-card: 0 8px 20px rgba(179, 156, 208, 0.15);
}

/* 9.沙漠綠洲 (Oasis) - 大地色系、高級、溫暖 */
[data-theme="oasis"] {
    --bg-body: #f7f3f0;       /* 奶油沙色 */
    --bg-card: #ffffff;
    --bg-sidebar: #caebdf;    /* 深色側邊欄形成對比 */
    --bg-hover: #fdfaf8;
    --bg-input: #ffffff;

    --text-primary: #4a3f35;  /* 深咖啡色 */
    --text-secondary: #7c6b58;/* 拿鐵色 */
    --text-inverse: #ffffff;

    --color-primary: #c2a383; /* 金色沙丘 */
    --color-success: #889e81; /* 鼠尾草綠 */
    --color-danger: #bc6c25;

    --border-color: #e9e0d6;
    --shadow-card: 0 4px 12px rgba(74, 63, 53, 0.08);
}

/* =========================================
   10. NT 財富領主 - 科技流金 (Tech Gold) 
   特效：強制透明化外層 div，加入科技網格與旋轉掃描光暈
   ========================================= */
[data-theme="nt_gold"] {
    /* 【關鍵修正】強制讓頁面的底色變成透明，讓動畫透出來！ */
    --bg-body: transparent !important; 
    --bg-card: rgba(26, 15, 0, 0.85); /* 卡片半透明 */
    --bg-sidebar: rgba(26, 15, 0, 0.95);
    --bg-hover: rgba(245, 158, 11, 0.15);
    --bg-input: #291500;

    --text-primary: #fef3c7;  
    --text-secondary: #d97706;
    --text-inverse: #ffffff;

    --color-primary: #f59e0b; 
    --color-success: #10b981;
    --color-danger: #ef4444;

    --border-color: #78350f;
    --shadow-card: 0 8px 32px rgba(245, 158, 11, 0.15);
}

/* 科技網格底圖 (畫在 body 上) */
[data-theme="nt_gold"] body {
    background-color: #110800 !important;
    background-image: 
        linear-gradient(rgba(245, 158, 11, 0.08) 1px, transparent 1px),
        linear-gradient(90deg, rgba(245, 158, 11, 0.08) 1px, transparent 1px) !important;
    background-size: 40px 40px !important;
}

/* 金色雷達掃描光暈 (放在最底層旋轉) */
[data-theme="nt_gold"] body::before {
    content: '';
    position: fixed;
    top: -50%; left: -50%; width: 200%; height: 200%;
    background: conic-gradient(from 0deg, transparent 0deg, rgba(245, 158, 11, 0.15) 60deg, transparent 120deg);
    animation: goldRadar 12s linear infinite;
    z-index: -1; /* 確保在網格之下 */
    pointer-events: none;
}
@keyframes goldRadar {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}


/* =========================================
   11. SP 投資先鋒 - 深海波光 (Ocean Pulse V2 - 加強版)
   特效：加強光暈的可見度與流動感，製造深海光影折射效果
   ========================================= */
[data-theme="sp_ocean"] {
    --bg-body: transparent !important; 
    --bg-card: rgba(12, 74, 110, 0.85); 
    --bg-sidebar: rgba(12, 74, 110, 0.95);
    --bg-hover: rgba(56, 189, 248, 0.2); /* 稍微調亮 hover */
    --bg-input: #075985;

    --text-primary: #e0f2fe;  
    --text-secondary: #7dd3fc;
    --text-inverse: #ffffff;

    --color-primary: #38bdf8; 
    --color-success: #34d399;
    --color-danger: #f87171;

    --border-color: #0284c7;
    --shadow-card: 0 10px 25px rgba(0, 0, 0, 0.4);
}

[data-theme="sp_ocean"] body {
    /* 加深底色對比 */
    background: linear-gradient(160deg, #0c4a6e 0%, #022c43 100%) !important;
}

[data-theme="sp_ocean"] body::before,
[data-theme="sp_ocean"] body::after {
    content: '';
    position: fixed;
    border-radius: 50%;
    /* 改用 screen 模式，讓光暈更明顯地疊加在深色背景上 */
    mix-blend-mode: screen; 
    /* 降低模糊度，讓邊緣稍微清晰一點，增加波紋感 */
    filter: blur(30px);
    z-index: -1;
    pointer-events: none;
}

/* 光球 1 (青藍色，較大，逆時針流動) */
[data-theme="sp_ocean"] body::before {
    width: 70vw; height: 70vw;
    /* 提高不透明度 */
    background: rgba(14, 165, 233, 0.25); 
    top: -20%; left: -20%;
    animation: oceanFlowA 20s infinite linear;
}

/* 光球 2 (青綠色，較小，順時針流動) */
[data-theme="sp_ocean"] body::after {
    width: 50vw; height: 50vw;
    background: rgba(45, 212, 191, 0.2);
    bottom: -10%; right: -10%;
    animation: oceanFlowB 25s infinite linear reverse;
}

/* 讓光球繞著畫面邊緣流動的動畫 */
@keyframes oceanFlowA {
    0%   { transform: rotate(0deg) translate(10%, 10%) scale(1); }
    50%  { transform: rotate(180deg) translate(20%, -10%) scale(1.1); }
    100% { transform: rotate(360deg) translate(10%, 10%) scale(1); }
}
@keyframes oceanFlowB {
    0%   { transform: rotate(0deg) translate(-10%, -10%) scale(1); }
    50%  { transform: rotate(-180deg) translate(-20%, 20%) scale(1.2); }
    100% { transform: rotate(-360deg) translate(-10%, -10%) scale(1); }
}
/* =========================================
   12. SJ 理財初心者 - 木質散步 (Forest Walk V2 - 林間光影版)
   特效：移除火柴人，改為模擬陽光穿透樹梢灑落的光影緩慢移動效果
   ========================================= */
[data-theme="sj_wood"] {
    /* 讓 body 透明，顯示底下的光影層 */
    --bg-body: transparent !important;       
    --bg-card: rgba(255, 255, 255, 0.9); /* 微透明卡片 */
    --bg-sidebar: rgba(250, 244, 240, 0.95);
    --bg-hover: #ede0d4;
    --bg-input: #ffffff;

    --text-primary: #5c4033;  
    --text-secondary: #8b7355;
    --text-inverse: #ffffff;

    --color-primary: #9c6644; 
    --color-success: #6b8e23;
    --color-danger: #cd5c5c;

    --border-color: #e6ccb2;
    --shadow-card: 0 4px 12px rgba(92, 64, 51, 0.08);
}

/* 基礎溫暖木質背景 */
[data-theme="sj_wood"] body {
    background: linear-gradient(to bottom, #f5ebe0 0%, #e8d7c9 100%) !important;
}

/* 林間光影層 (使用 before 偽元素) */
[data-theme="sj_wood"] body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    pointer-events: none;
    /* 創建傾斜的光影條紋 */
    background: repeating-linear-gradient(
        -45deg,
        rgba(255, 255, 255, 0) 0px,
        rgba(255, 255, 255, 0) 40px,    /* 透明區間 */
        rgba(255, 248, 220, 0.15) 60px, /* 淡淡的暖白光 */
        rgba(255, 255, 255, 0) 80px     /* 回到透明 */
    );
    /* 放大背景尺寸以便移動 */
    background-size: 200% 200%;
    /* 緩慢移動背景，製造行走感 */
    animation: forestWalkLight 90s linear infinite;
}

@keyframes forestWalkLight {
    0% { background-position: 0% 0%; }
    100% { background-position: 100% 100%; }
}


/* 3. 處理頁面中間容器的白底遮擋 (根據你的 class 名稱) */
[data-theme="nt_gold"] .dashboard-container_1,
[data-theme="sp_ocean"] .dashboard-container_1,
[data-theme="sj_wood"] .dashboard-container_1 {
    background: transparent !important;
}

/* 4. 修改原本的 --bg-body 邏輯 (不要全部透明，給組件一個底色參考) */
[data-theme="nt_gold"] { --bg-body: #11080067 !important; }
[data-theme="sp_ocean"] { --bg-body: #082f4979 !important; }
[data-theme="sj_wood"] { --bg-body: #f5ebe085 !important; }