<script setup>

import { ref } from 'vue'
const showAddDialog = ref(false)

const accountTypes = ref([
    { value: 'bank', label: 'éŠ€è¡Œå¸³æˆ¶' },
    { value: 'cash', label: 'ç¾é‡‘' },
    { value: 'credit', label: 'ä¿¡ç”¨å¡' },
    { value: 'investment', label: 'æŠ•è³‡å¸³æˆ¶' }
])
const selectedType = ref(accountTypes.value[0].value)


const currencys = ref([
    { value: 'TWD', label: 'æ–°å°å¹£ (TWD)' },
    { value: 'USD', label: 'ç¾å…ƒ (USD)' },
    { value: 'EUR', label: 'æ­å…ƒ (EUR)' },
    { value: 'JPY', label: 'æ—¥åœ“ (JPY)' }
])
const selectedCurrency = ref(currencys.value[0].value)


const icons = ["ğŸµ", "ğŸ¶", "ğŸ·", "ğŸ»", "ğŸ¨", "ğŸ®", "ğŸ¦", "ğŸ¯", "ğŸ°", "ğŸ­", "ğŸ¦‰", "ğŸ¸"]
//const icons = [
    //new URL('../assets/acc_picture/dog_3089505.png', import.meta.url).href,
    //new URL('../assets/acc_picture/kangaroo_2424371.png', import.meta.url).href,
    //new URL('../assets/acc_picture/squirrel_1635907.png', import.meta.url).href]
</script>

<template>
    <button @click="showAddDialog = true" class="add_account_button"><i class="bi bi-plus">æ–°å¢å¸³æˆ¶</i></button>
    <div v-if="showAddDialog" class="acc_modal_overlay" @click="showAddDialog = false">
        <div class="acc_modal_content" @click.stop>
            <div class="acc_head">
                <H3 class="acc_button_word">æ–°å¢å¸³æˆ¶</H3>
                <button @click="showAddDialog = false" class="btn-icon">âœ•</button>
            </div>
            <hr>
            <div>
                <h4 class="acc_button_word_small">å¸³æˆ¶åç¨±:</h4>
                <input type="text" placeholder="ä¾‹å¦‚ï¼šç‰å±±éŠ€è¡Œ">
            </div>
            <br>
            <div>
                <label class="acc_button_word_small">å¸³æˆ¶é¡å‹:</label>
                <div>
                    <select v-model="selectedType">
                        <option v-for="type in accountTypes" :key="type.value" :value="type.value">
                            {{ type.label }}
                        </option>
                    </select>
                </div>
            </div>
            <br>
            <div>
                <label class="acc_button_word_small">è²¨å¹£:</label>
                <div>
                    <select v-model="selectedCurrency">
                        <option v-for="currency in currencys" :key="currency.value" :value="currency.value">
                            {{ currency.label }}
                        </option>
                    </select>
                </div>
            </div>
            <br>
            <div>
                <h4 class="acc_button_word_small">åˆå§‹é¤˜é¡:</h4>
                <input type="number" placeholder="0">
            </div>
            <br>
            <div>
                <label class="acc_button_word_small">åœ–ç¤º:</label>
                <div>
                    <button v-for="(icon, index) in icons" :key="index" class="acc_button_color">
                        <span class="emoji">{{ icon }}</span>
                    </button>
                </div>
            </div>
            <br>
            <div class="submit_box_button">
                <button class="submit_button">æ–°å¢å¸³æˆ¶</button>
            </div>
            
        </div>
    </div>
    
</template>

<style scoped>
@import '../assets/css/add.css';

    .add_account_button{
        background: white;
        font-size: 12px;
        border-radius: 16px;
        width: 80px;
        height: 40px;
        padding: 4px;
        border: 0.5px solid rgb(253, 253, 253);
        border-left: 2px solid;
        border-left-color: #e8ef28;
    }

    .acc_head{
        display: flex;
        justify-content: space-between;
        
    }

    .acc_modal_overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(4px);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        padding: 20px;
    }

    .acc_modal_content {
    background: white;
    width: 90%;
    max-width: 440px;
    border-radius: 20px;
    box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
    overflow: hidden;
    padding: 35px;
}

    .btn-icon {
        background-color: white;
        color: rgb(117, 114, 114);
        padding: 10px 20px;
        border: 0px;
        margin: 1px;
        border-radius: 10px;
        font-weight: 600;
        float: right;
    }

    .acc_button_word{
        font-size: 30px;
        font-weight: 600;
        color: #1e293b;
    }

    .acc_button_word_small{
        font-size: 20px;
        font-weight: 400;
        color: #626367;
    }

    .acc_button_color {
        background: none;
        border: none;
        cursor: pointer;
        margin: 5px;
    }


    /* æŒ‰ä¸‹å» */
    .acc_button_color:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #ccc;
    }

    .submit_box_button:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #fffefe;
    }


    .submit_button{
        background-color: #1e293b;
        color: white;
        padding: 10px 20px;
        border: 0px;
        margin-top: 10px;
        border-radius: 10px;
        font-weight: 600;
    }

    .submit_box_button{
        align-items: center;
        display: flex;
        justify-content: center; 
    }

    .emoji{
        font-size: 24px;
    }
</style>